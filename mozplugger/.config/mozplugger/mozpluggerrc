# Configure file for MozPlugger
# Version: Jan 20, 2013
#
# This file is part of mozplugger a fork of plugger, for list of developers 
# see the README file.
#
# Commands which are not installed on your system will not be used.
#
# NOTE!! After changing this file, mozplugger-update must be executed.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111, USA.


### m4 macros ###

changequote([,])

### Helpers

### MPlayer

define(MP_CMD,[mpv --no-terminal $1 </dev/null])
define(MP_EMBED,[embed noisy ignore_errors: MP_CMD(--autofit=$width --wid=$window $1)])
define(MP_NOEMBED,[noembed noisy ignore_errors maxaspect swallow(mpv): MP_CMD($1)])

# If you want a small controls in top left corner of embedded window when using
# mplayer then uncomment the first and comment the second below 

define(MP_VIDEO_STREAM,[controls stream MP_EMBED($1 "$file")
	stream MP_NOEMBED($1 "$file")])

#define(MP_VIDEO_STREAM,[stream MP_EMBED($1 "$file")
#	stream MP_NOEMBED($1 "$file")])

define(MP_VIDEO_PLAYLIST, [fmatch($1) MP_EMBED(--playlist "$file")
	                   fmatch($1) MP_NOEMBED(--playlist "$file")])
# Special case for Quicktime
define(MP_LINKS,[stream links noisy ignore_errors: MP_CMD($1)])

#define(MP_AUDIO,[mplayer -quiet -nojoystick $1 </dev/null])
define(MP_AUDIO,[mpv --no-terminal $1 </dev/null])

define(MP_AUDIO_STREAM,[controls stream noisy ignore_errors: mpv --no-terminal $1 "$file" </dev/null])

### Video ###

video/mpeg:mpeg,mpg,mpe:MPEG animation
video/x-mpeg:mpeg,mpg,mpe:MPEG animation
video/x-mpeg2:mpv2,mp2ve:MPEG2 animation
	MP_VIDEO_STREAM()

video/mp4:mp4:MPEG4 animation
video/msvideo:avi:AVI animation
video/x-msvideo:avi:AVI animation
video/fli:fli,flc:FLI animation
video/x-fli:fli,flc:FLI animation
	MP_VIDEO_STREAM()

video/x-theora:ogg:OGG stream with video
video/theora:ogg:OGG stream with video
video/ogg:ogg:OGG stream with video
video/x-ogg:ogm,ogv:OGG stream with video
video/webm:webm:WEBM stream with video
	MP_VIDEO_STREAM()

### Audio ###

audio/mp3:mp3:MPEG audio
audio/x-mp3:mp3:MPEG audio
audio/mpeg2:mp2:MPEG audio
audio/x-mpeg2:mp2:MPEG audio
audio/mpeg3:mp3:MPEG audio
audio/x-mpeg3:mp3:MPEG audio
audio/mpeg:mpa,abs,mpega:MPEG audio
audio/x-mpeg:mpa,abs,mpega:MPEG audio
audio/x-ogg:ogg:OGG audio
audio/webm:webm:WEBM audio
application/x-ogg:ogg:OGG audio
application/ogg:ogg:OGG audio
audio/flac:flac:FLAC audio
audio/x-flac:flac:FLAC audio
application/x-flac:flac:FLAC audio
	MP_AUDIO_STREAM()

# Quick time, some webpages use Javascript to check plugin name
[[QuickTime Plug-in 7.6.9 @7.6.9]]

application/x-quicktimeplayer:mov:Quicktime animation
image/x-macpaint:pntg,mov:Quicktime animation
video/quicktime:mov,qt:Quicktime animation
video/x-quicktime:mov,qt:Quicktime animation
	MP_VIDEO_STREAM()
        MP_LINKS("$file")

[[Windows Media Player Plug-in @10.1]]

application/x-mplayer2:*:Windows Media video
video/x-ms-asf:asf,asx:Windows Media video
video/x-ms-wm:wm:Windows Media video
video/x-ms-wmv:wmv:Windows Media video
video/x-ms-wvx:wvx:Windows Media video
video/x-ms-asf-plugin:*:Window Media video
        MP_VIDEO_PLAYLIST(%.asx)
	MP_VIDEO_STREAM()

application/asx:asx:Windows Media video
	MP_VIDEO_STREAM(-playlist)

audio/x-ms-wax:wax:Windows Media Audio
	MP_AUDIO_STREAM(-playlist-playlist))

audio/x-ms-wma:wma:Windows Media Audio
	MP_AUDIO_STREAM()

