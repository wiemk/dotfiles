#!/usr/bin/env bash
# shellcheck shell=bash

# shellcheck source=../../../../share/lib/.local/share/dotfiles/lib/lib.sh
source "${0%/*}/../share/dotfiles/lib/lib.sh" || exit 1

if has_all_emit sensors jq; then
	coretemp() {
		sensors -j | jq -r \
			'to_entries[]
                    | select(.key | startswith("coretemp-")).value
                    | to_entries[]
                    | select(.key | startswith("Core ")).value
                    | to_entries[]
                    | select(.key | endswith("input")).value'
	}
fi

coretemp

# vi: set ft=sh ts=4 sw=0 sts=-1 sr noet nosi tw=80 fdm=manual:
